# Web Scheduler — документация проекта

## Цели

- Предоставить веб-интерфейс в стиле Google Calendar для работы с расписаниями
- Возможность фильтрации расписаний по значениям тегов (например, «зал1», «зал2»)
- CRUD-операции для всех сущностей: расписания, теги, значения тегов
- Простейшая авторизация при доступе к сайту через Nginx (Basic Auth)
- Развёртывание на Ubuntu, веб-сервер Nginx, база данных SQLite (минимальная зависимость)

## Основные сущности и связи

- Расписание (`schedules`): заголовок, дата/время "с" и "по"
- Тег (`tags`): имя (например, «зал»)
- Значение тега (`tag_values`): принадлежит тегу (например, «зал1», «зал2»)
- Связь «многие-ко-многим» между расписаниями и значениями тегов (`schedule_tag_values`)

Схема отношений:

- Один `tag` имеет много `tag_values`
- Одно `schedule` имеет много `tag_values` через таблицу `schedule_tag_values`
- Один `tag_value` может относиться ко многим `schedule`

## Выбранные технологии

- Клиент (UI): React + TypeScript, библиотека календаря FullCalendar, стилизация Tailwind CSS
- Сервер (API): FastAPI (Python) + Uvicorn
- Доступ к БД: SQLAlchemy (ORM), база — SQLite
- Реверс‑прокси и авторизация: Nginx + Basic Auth (через `auth_basic`)
- Миграции БД (опционально): Alembic

## Архитектура

См. `docs/architecture.md`.

## Модель данных

SQL‑схема и индексы: `docs/db-schema.sql`.

## API

Спецификация REST‑эндпоинтов: `docs/api.md`.

## Интерфейс (UI)

Описание экранов, фильтров и форм CRUD: `docs/ui.md`.

## Деплой

Пошаговый гайд для Ubuntu + Nginx + Basic Auth: `docs/deploy.md` (включая пример `docs/nginx.conf.example`).

## Минимальные функциональные требовании к первой версии (MVP)

1. Просмотр расписаний в режиме месяц/неделя/день
2. Фильтрация по значениям тегов (мультивыбор)
3. Создание/редактирование/удаление расписаний, тегов и значений тегов
4. Доступ к сайту защищён Nginx Basic Auth

## Запуск локально (dev)

1. Создать и активировать venv, установить зависимости:

```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

2. Инициализировать БД:

```bash
mkdir -p var
sqlite3 var/data.sqlite < docs/db-schema.sql
```

3. Запустить API:

```bash
uvicorn app.main:app --reload --port 8000
```

4. (Опционально) Открыть `http://localhost:8000/docs` для Swagger UI.


